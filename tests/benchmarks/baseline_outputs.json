{
  "note": "Raw CLI outputs captured for correctness comparison after refactoring",
  "single_query": {
    "query": "What is the meaning of Surah Al-Fatiha?",
    "sample_run": {
      "returncode": 0,
      "stdout": "Initializing 2 tools...\n  \u2713 vectara\n  \u2713 agentset\n{\n  \"query\": \"What is the meaning of Surah Al-Fatiha?\",\n  \"timestamp\": \"2025-10-21T09:29:30.742540\",\n  \"tool_results\": {\n    \"vectara\": [\n      {\n        \"id\": \"ibn-kathir-001\",\n        \"text\": \"- Al-Fatihah, that is, the Opener of the Book, the Surah with which prayers are begun.\",\n        \"score\": 0.9956685304641724,\n        \"source\": \"ibn-kathir - Surah 001\",\n        \"metadata\": {\n          \"ayah_key\": \"1:1\",\n          \"group_ayah_key\": \"1:1\",\n          \"from_ayah\": \"1:1\",\n          \"to_ayah\": \"1:1\",\n          \"from_ayah_int\": 1001,\n          \"to_ayah_int\": 1001,\n          \"ayah_keys\": \"1:1\",\n          \"tafsir\": \"ibn-kathir\",\n          \"surah\": \"001\"\n        }\n      },\n      {\n        \"id\": \"ibn-kathir-035\",\n        \"text\": \"(Fatir of the heavens and the earth,) means, \\\"The Originator of the heavens and the earth.\\\" Ad-Dahhak said, \\\"Every time the phrase Fatir As-Samawati wal-Ard is used in the Qur'an, it means the Creator of the heavens and the earth.\\\"\",\n        \"score\": 0.3170032203197479,\n        \"source\": \"ibn-kathir - Surah 035\",\n        \"metadata\": {\n          \"ayah_key\": \"35:1\",\n          \"group_ayah_key\": \"35:1\",\n          \"from_ayah\": \"35:1\",\n          \"to_ayah\": \"35:1\",\n          \"from_ayah_int\": 35001,\n          \"to_ayah_int\": 35001,\n          \"ayah_keys\": \"35:1\",\n          \"tafsir\": \"ibn-kathir\",\n          \"surah\": \"035\"\n        }\n      },\n      {\n        \"id\": \"ibn-kathir-035\",\n        \"text\": \"Ibn `Abbas, may Allah be pleased with him, said, \\\"I did not know what Fatir As-Samawati wal-Ard meant until two bedouins came to me disputing over a well. One of them said to his companion, `Ana Fatartuha,' meaning, `I started it.\\\"' Ibn `Abbas, may Allah be pleased with him, also said,\",\n        \"score\": 0.20165595412254333,\n        \"source\": \"ibn-kathir - Surah 035\",\n        \"metadata\": {\n          \"ayah_key\": \"35:1\",\n          \"group_ayah_key\": \"35:1\",\n          \"from_ayah\": \"35:1\",\n          \"to_ayah\": \"35:1\",\n          \"from_ayah_int\": 35001,\n          \"to_ayah_int\": 35001,\n          \"ayah_keys\": \"35:1\",\n          \"tafsir\": \"ibn-kathir\",\n          \"surah\": \"035\"\n        }\n      },\n      {\n        \"id\": \"ibn-kathir-048\",\n        \"text\": \"The Merit of Surah Al-Fath\",\n        \"score\": 0.2002447098493576,\n        \"source\": \"ibn-kathir - Surah 048\",\n        \"metadata\": {\n          \"ayah_key\": \"48:1\",\n          \"group_ayah_key\": \"48:1\",\n          \"from_ayah\": \"48:1\",\n          \"to_ayah\": \"48:3\",\n          \"from_ayah_int\": 48001,\n          \"to_ayah_int\": 48003,\n          \"ayah_keys\": \"48:1,48:2,48:3\",\n          \"tafsir\": \"ibn-kathir\",\n          \"surah\": \"048\"\n        }\n      },\n      {\n        \"id\": \"ibn-kathir-003\",\n        \"text\": \"(This is what We recite to you of the verses and the Wise Reminder.) meaning, \\\"What We narrated to you, O Muhammd, regarding `Isa, his birth and his life, is what Allah conveyed and revealed to you, sent down from the Al-Lawh Al-Mahfuz (The Preserved Tablet). So there is no doubt in it. Similarly, Allah said in Surah Maryam;\",\n        \"score\": 0.1524103283882141,\n        \"source\": \"ibn-kathir - Surah 003\",\n        \"metadata\": {\n          \"ayah_key\": \"3:55\",\n          \"group_ayah_key\": \"3:55\",\n          \"from_ayah\": \"3:55\",\n          \"to_ayah\": \"3:58\",\n          \"from_ayah_int\": 3055,\n          \"to_ayah_int\": 3058,\n          \"ayah_keys\": \"3:55,3:56,3:57,3:58\",\n          \"tafsir\": \"ibn-kathir\",\n          \"surah\": \"003\"\n        }\n      }\n    ],\n    \"agentset\": [\n      {\n        \"id\": \"cmgyl7y180197fg0idmf2ckzf#bb65f5e5efdef61260fc00ac2107046a\",\n        \"text\": \"Introduction to Fatihah\\n\\nWhich was revealed in Makkah\\n\\nThe Meaning of Al-Fatihah and its Various Names\\n\\nThis Surah is called\\n\\nAl-Fatihah, that is, the Opener of the Book, the Surah with which prayers are begun.\\n\\nIt is also called, Umm Al-Kitab (the Mother of the Book), according to the majority of the scholars.\\n\\nIn an authentic Hadith recorded by At-Tirmidhi, who graded it Sahih, Abu Hurayrah said that the Messenger of Allah\\n\\n\ufdfa\\n\\nsaid,\",\n        \"score\": 0.707897186,\n        \"source\": \"Agentset\",\n        \"metadata\": {\n          \"document_id\": \"cmgyl7y180197fg0idmf2ckzf#bb65f5e5efdef61260fc00ac2107046a\"\n        }\n      },\n      {\n        \"id\": \"cmgyl7y18019bfg0ijafz3ts7#bfc3c5b1d2b3f5904abf106ceca54aa0\",\n        \"text\": \"The honorable Surah Al-Fatihah contains seven Ayat including the praise and thanks of Allah, glorifying Him and praising Him by mentioning His most Beautiful Names and most high Attributes. It also mentions the Hereafter, which is the Day of Resurrection, and directs Allah's servants to ask of Him, invoking Him and declaring that all power and strength comes from Him. It also calls to the sincerity of the worship of Allah alone, singling Him out in His divinity, believing in His perfection,\",\n        \"score\": 0.626527786,\n        \"source\": \"Agentset\",\n        \"metadata\": {\n          \"document_id\": \"cmgyl7y18019bfg0ijafz3ts7#bfc3c5b1d2b3f5904abf106ceca54aa0\"\n        }\n      },\n      {\n        \"id\": \"cmgyl7y19019cfg0iqoo2dki7#8f57f77d3e8a78198c7ad1fb3efb0d90\",\n        \"text\": \"Al-Fatihah indicates the Necessity of praising Allah. It is required in every Prayer.\\n\\nThe beginning of Surat Al-Fatihah contains Allah's praise for Himself by His most beautiful Attributes and indicates to His servants that, they too, should praise Him in the same manner. Hence, the prayer is not valid unless one recites Al-Fatihah, if he is able. The Two Sahihs recorded that `Ubadah bin As-Samit said that the Messenger of Allah \ufdfa said,\\n\\n\u00ab\u0644\u064e\u0627 \u0635\u064e\u0644\u064e\u0627\u0629\u064e \u0644\u0650\u0645\u064e\u0646\u0652 \u0644\u064e\u0645\u0652 \u064a\u064e\u0642\u0652\u0631\u064e\u0623\u0652 \u0628\u0650\u0641\u064e\u0627\u062a\u0650\u062d\u064e\u0629\u0650 \u0627\u0644\u0652\u0643\u0650\u062a\u064e\u0627\u0628\u0650\u00bb\",\n        \"score\": 0.635883331,\n        \"source\": \"Agentset\",\n        \"metadata\": {\n          \"document_id\": \"cmgyl7y19019cfg0iqoo2dki7#8f57f77d3e8a78198c7ad1fb3efb0d90\"\n        }\n      },\n      {\n        \"id\": \"cmgyl7y180197fg0idmf2ckzf#0e1ce8defc71214539087a3ba2ea4436\",\n        \"text\": \"The prayer (i.e., Al-Fatihah) is divided into two halves between Me and My servants. When the servant says, `All praise is due to Allah, the Lord of existence,' Allah says, 'My servant has praised Me. Al-Fatihah was called the Salah, because reciting it is a condition for the correctness of Salah - the prayer. Al-Fatihah was also called Ash-Shifa' (the Cure).It is also called Ar-Ruqyah (remedy), since in the Sahih, there is the narration of Abu Sa`id telling the story of the Companion who used\",\n        \"score\": 0.564508438,\n        \"source\": \"Agentset\",\n        \"metadata\": {\n          \"document_id\": \"cmgyl7y180197fg0idmf2ckzf#0e1ce8defc71214539087a3ba2ea4436\"\n        }\n      },\n      {\n        \"id\": \"cmgyl7y18019bfg0ijafz3ts7#c352e1c1a29d96127fecb17eafc00d82\",\n        \"text\": \"The Summary of Al-Fatihah\",\n        \"score\": 0.613976538,\n        \"source\": \"Agentset\",\n        \"metadata\": {\n          \"document_id\": \"cmgyl7y18019bfg0ijafz3ts7#c352e1c1a29d96127fecb17eafc00d82\"\n        }\n      }\n    ]\n  },\n  \"errors\": {},\n  \"llm_evaluation\": null\n}\n       Performance Statistics        \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Tool     \u2503 Results \u2503 Latency (ms) \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 vectara  \u2502       5 \u2502        225.9 \u2502\n\u2502 agentset \u2502       5 \u2502        516.5 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n",
      "stderr": "/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"MemoryCreationRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"BatchMemoryCreationRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"BatchMemoryDeletionRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"BatchMemoryRetrievalRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"EmbedderCreationRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"RerankerCreationRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n09:29:30 - ragdiff.adapters.factory - INFO - Creating vectara adapter for tool 'vectara'\n09:29:30 - ragdiff.adapters.factory - INFO - Creating agentset adapter for tool 'agentset'\n09:29:30 - ragdiff.adapters.agentset - INFO - Agentset client initialized for namespace: ns_cmgyeui0n0001jv047go6adbh\n09:29:30 - ragdiff.comparison.engine - INFO - Initialized comparison engine with tools: ['vectara', 'agentset']\n09:29:30 - ragdiff.comparison.engine - INFO - Running comparison for query: 'What is the meaning of Surah Al-Fatiha?' with top_k=5\n09:29:30 - httpx - INFO - HTTP Request: POST https://api.agentset.ai/v1/namespace/ns_cmgyeui0n0001jv047go6adbh/search \"HTTP/1.1 200 OK\"\n09:29:30 - ragdiff.adapters.agentset - INFO - Agentset returned 5 results for query: What is the meaning of Surah Al-Fatiha?\n09:29:30 - ragdiff.adapters.agentset - INFO - Converted 5 Agentset results to RagResult format\n09:29:30 - ragdiff.comparison.engine - INFO - Comparison complete. Tools: 2, Errors: 0\n",
      "note": "Raw output for manual inspection and future comparison"
    }
  },
  "batch_query": {
    "queries_file": "/Users/mwk/Development/ansari-project/ragdiff/tmp/baseline_queries.txt",
    "sample_run": {
      "returncode": 0,
      "stdout": "Loaded 3 queries from \n/Users/mwk/Development/ansari-project/ragdiff/tmp/baseline_queries.txt\nInitializing 2 tools...\n  \u2713 vectara\n  \u2713 agentset\n\n\u2713 Processed 3 queries\n\u2713 Results saved to outputs/batch_results_20251021_092939.json\n                          Latency Statistics (ms)                          \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Tool     \u2503 Count \u2503   Min \u2503 P50 (Median) \u2503   P95 \u2503   P99 \u2503   Max \u2503  Mean \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 vectara  \u2502     3 \u2502 211.9 \u2502        220.4 \u2502 316.4 \u2502 316.4 \u2502 316.4 \u2502 249.6 \u2502\n\u2502 agentset \u2502     3 \u2502 343.2 \u2502        352.1 \u2502 413.1 \u2502 413.1 \u2502 413.1 \u2502 369.5 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n",
      "stderr": "/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"MemoryCreationRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"BatchMemoryCreationRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"BatchMemoryDeletionRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"BatchMemoryRetrievalRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"EmbedderCreationRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n/Users/mwk/Development/ansari-project/ragdiff/.venv/lib/python3.11/site-packages/pydantic/_internal/_fields.py:198: UserWarning: Field name \"validate\" in \"RerankerCreationRequest\" shadows an attribute in parent \"BaseModel\"\n  warnings.warn(\n09:29:39 - ragdiff.adapters.factory - INFO - Creating vectara adapter for tool 'vectara'\n09:29:39 - ragdiff.adapters.factory - INFO - Creating agentset adapter for tool 'agentset'\n09:29:39 - ragdiff.adapters.agentset - INFO - Agentset client initialized for namespace: ns_cmgyeui0n0001jv047go6adbh\n09:29:39 - ragdiff.comparison.engine - INFO - Initialized comparison engine with tools: ['vectara', 'agentset']\n09:29:39 - ragdiff.comparison.engine - INFO - Running comparison for query: 'What is the meaning of Surah Al-Fatiha?' with top_k=5\n09:29:39 - httpx - INFO - HTTP Request: POST https://api.agentset.ai/v1/namespace/ns_cmgyeui0n0001jv047go6adbh/search \"HTTP/1.1 200 OK\"\n09:29:39 - ragdiff.adapters.agentset - INFO - Agentset returned 5 results for query: What is the meaning of Surah Al-Fatiha?\n09:29:39 - ragdiff.adapters.agentset - INFO - Converted 5 Agentset results to RagResult format\n09:29:39 - ragdiff.comparison.engine - INFO - Comparison complete. Tools: 2, Errors: 0\n09:29:39 - ragdiff.comparison.engine - INFO - Running comparison for query: 'Explain the concept of Tawhid' with top_k=5\n09:29:39 - httpx - INFO - HTTP Request: POST https://api.agentset.ai/v1/namespace/ns_cmgyeui0n0001jv047go6adbh/search \"HTTP/1.1 200 OK\"\n09:29:39 - ragdiff.adapters.agentset - INFO - Agentset returned 5 results for query: Explain the concept of Tawhid\n09:29:39 - ragdiff.adapters.agentset - INFO - Converted 5 Agentset results to RagResult format\n09:29:39 - ragdiff.comparison.engine - INFO - Comparison complete. Tools: 2, Errors: 0\n09:29:39 - ragdiff.comparison.engine - INFO - Running comparison for query: 'What are the pillars of Islam?' with top_k=5\n09:29:40 - httpx - INFO - HTTP Request: POST https://api.agentset.ai/v1/namespace/ns_cmgyeui0n0001jv047go6adbh/search \"HTTP/1.1 200 OK\"\n09:29:40 - ragdiff.adapters.agentset - INFO - Agentset returned 5 results for query: What are the pillars of Islam?\n09:29:40 - ragdiff.adapters.agentset - INFO - Converted 5 Agentset results to RagResult format\n09:29:40 - ragdiff.comparison.engine - INFO - Comparison complete. Tools: 2, Errors: 0\n",
      "note": "Raw output for manual inspection and future comparison"
    }
  }
}
